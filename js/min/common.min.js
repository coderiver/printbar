head.ready(function(){function t(){var t=$(".js-select"),e=$(".js-select-list");$("body").on("click",".js-select",function(s){$(this).hasClass("is-active")?(t.removeClass("is-active"),e.hide()):(t.removeClass("is-active"),e.hide(),$(this).find(".js-select-list").show(),$(this).addClass("is-active")),s.stopPropagation()}),$("body").on("click",".js-select-list li",function(t){var e=$(this).attr("data-id"),s=$(this).html();$(this).parents(".js-select").find(".js-select-text").html(s),$(this).parents(".js-select").find(".js-select-input").val(e),$(this).parent().hide(),$(this).parents(".js-select").removeClass("is-active"),t.stopPropagation(),$(this).parents(".js-select").hasClass("text-family")?$(".panel__text").css("font-family",s):$(this).parents(".js-select").hasClass("text-size")&&$(".panel__text").css("font-size",s+"pt")})}function e(){$(".js-tab").each(function(){var t=$(this).find("a"),e=$(this).find("li"),s=$(this).parents(".js-tab-group").find(".js-tab-cont");e.first().addClass("is-active"),$(this).parents(".js-tab-group").find(".js-tab1").addClass("is-active"),t.on("click",function(){var t=$(this).attr("href");return e.removeClass("is-active"),$(this).parent().addClass("is-active"),s.removeClass("is-active"),$(this).parents(".js-tab-group").find("."+t).addClass("is-active"),!1})})}function s(){var t=$(".js-tab2"),e=(t.find("a"),t.find("li")),s=t.parents(".js-tab-group2").find(".js-tab-cont2");s.hide(),e.first().addClass("is-active"),t.parents(".js-tab-group2").find(".js-tab1").show(),$("body").on("click",".js-tab2 a",function(){var t=$(this).attr("href");return e.removeClass("is-active"),$(this).parent().addClass("is-active"),s.hide(),$(this).parents(".js-tab-group2").find("."+t).show(),!1})}function i(t,e){$(".panel__bg").css({"-moz-transform":"rotate("+t+"deg) scale("+e+")"}),$(".panel__bg").css({"-ms-transform":"rotate("+t+"deg) scale("+e+")"}),$(".panel__bg").css({"-webkit-transform":"rotate("+t+"deg) scale("+e+")"}),$(".panel__bg").css({"-o-transform":"rotate("+t+"deg) scale("+e+")"}),$(".panel__bg").css({transform:"rotate("+t+"deg) scale("+e+")"})}function n(t,e){var s=e.pageX,i=e.pageY,n=parseInt($(t).css("left")),o=parseInt($(t).css("top")),a={mousemove:function(e){var a=e.pageX,c=e.pageY,l=a-s,r=c-i;$(t).css("left",n+l+"px"),$(t).css("top",o+r+"px")},mouseup:function(){$(this).off(a)}};$(document).on(a)}function o(t,e){var s=e.pageX,i=e.pageY,n=parseInt($(t).css("width")),o=parseInt($(t).css("height")),a={mousemove:function(e){var a=e.pageX,c=e.pageY,l=a-s,r=c-i;$(t).css("width",n+l+"px"),$(t).css("height",o+r+"px")},mouseup:function(){$(this).off(a)}};$(document).on(a)}function a(t){var e={mousemove:function(e){var s=e.pageX,i=e.pageY,n=Math.round(c(s,i,t));$(t).css({"-moz-transform":"rotate("+n+"deg)"}),$(t).css({"-ms-transform":"rotate("+n+"deg)"}),$(t).css({"-webkit-transform":"rotate("+n+"deg)"}),$(t).css({"-o-transform":"rotate("+n+"deg)"}),$(t).css({transform:"rotate("+n+"deg)"})},mouseup:function(){$(this).off(e)}};$(document).on(e)}function c(t,e,s){var i=s,n=$(".panel").offset(),o=t-(n.left+parseInt(i.css("left"))+i.width()/2),a=e-(n.top+parseInt(i.css("top"))+i.height()/2);return Math.atan2(a,o)*(180/Math.PI)}function l(t){for(var e,s=t.target.files||t.dataTransfer.files,i=0;e=s[i];i++)r(e)}function r(t){if(0==t.type.indexOf("image")){var e=new FileReader;e.onload=function(t){$(".panel__bg").attr("src",t.target.result)},e.readAsDataURL(t)}}function p(){var t=$("#fileselect")[0];t.addEventListener("change",l,!1)}$(document).click(function(){$(".js-select-list").hide(),$(".js-select").removeClass("is-active"),$(".js-size-block").removeClass("is-active")}),$(".js-login").click(function(){$(".js-topic").hide(),$(".js-login-block").show()}),$(".js-close").click(function(){$(".js-topic").show(),$(".js-login-block").hide()}),$(".js-delete").click(function(){$(this).parents(".js-product").remove()}),$(".btn-close-basket, .js-basket").click(function(){$(".js-basket-block").slideToggle()}),$(".color__block").click(function(){$(".color__block").removeClass("is-active"),$(".editor__item .editor__checkbox input").prop("checked",!1),$(this).addClass("is-active")}),$(".editor__item .editor__checkbox input").click(function(){$(".editor__item .editor__checkbox input").prop("checked")&&$(".color__block").removeClass("is-active")});var d=$(".js-shirt");d.click(function(){function t(t){return(0^t)===t}d.removeClass("is-active"),$(this).addClass("is-active"),$(".js-shirt-block").show();var e=$(window).width(),s=$(".js-shirt-block"),i=$(this).prevAll().length;if(e>1200)var n=5;else var n=4;var o=i/n;t(o)?0==o?o=0:o-=1:o=Math.floor(o),o*=n,$(".js-shirt-info").remove(),$(this).parent().find(".js-shirt :eq("+o+")").before('<div class="js-shirt-info"></div>'),s.appendTo(".js-shirt-info"),$(".single-item").unslick(),$(".single-item").slick()}),$(".clothing__field").on("click",".js-shirt-btn",function(){$(".js-shirt-block").hide(),$(".js-shirt").removeClass("is-active")}),$(".js-more").click(function(){var t=$("#load-shirts .js-shirt");t.appendTo($(".tab-cont.is-active").find(".clothing__field"))});var f=$(".js-shirt"),_=$(window).height(),h=(_-514)/2;f.click(function(){$("html, body").animate({scrollTop:$(".js-shirt-block").offset().top-h},600)}),t(),$("body").on("click",".js-select",function(t){t.stopPropagation()}),$(window).scroll(function(){var t=$(window).scrollTop();t>65?$(".js-top-nav").addClass("is-active"):$(".js-top-nav").removeClass("is-active")}),e(),s(),$(".responsive").slick({dots:!0,infinite:!0,speed:300,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1285,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}}]}),$(".section-title:first").addClass("open");var u=$(".section-title:first").next(".collapsing-section");$(u).slideDown(),$(".section-title").on("focus",function(){$(this).data("mouseDown")||$(this).click()}),$(".section-title").on("mousedown",function(){$(this).data("mouseDown",!0)}),$(".section-title").on("mouseup",function(){$(this).removeData("mouseDown")}),$(".section-title").on("click",function(){if($(this).hasClass("open"))$(".section-title").removeClass("open"),$(".collapsing-section").slideUp();else{$(".section-title").removeClass("open"),$(".collapsing-section").slideUp(),$(this).addClass("open");var t=$(this).next(".collapsing-section");$(t).slideDown()}}),$(".panel__bg__rotate").change(function(){i($(".panel__bg__rotate").val(),$(".panel__bg__resize").val()/100)}),$(".panel__bg__resize").change(function(){i($(".panel__bg__rotate").val(),$(".panel__bg__resize").val()/100)}),$(".panel__shirt").mousedown(function(t){n($(".panel__bg"),t),t.preventDefault()}),$(".panel__btn.panel__btn_bottom-right").mousedown(function(t){o($(".panel__text__block"),t),o($(".panel__text"),t),t.preventDefault()}),$(".panel__btn.panel__btn_rotate-right").mousedown(function(t){a($(".panel__text__block")),t.preventDefault()}),$(".panel__text").mousedown(function(t){n($(".panel__text__block"),t),t.preventDefault()}),$(".textblock-text").keyup(function(){$(".panel__text").html($(".textblock-text").val()),""===$(".textblock-text").val()?$(".panel__text__block").hide():$(".panel__text__block").show()}),$(".dye__select .select__text").ColorPicker({color:"#0000ff",onShow:function(t){return $(t).fadeIn(500),!1},onHide:function(t){return $(t).fadeOut(500),!1},onChange:function(t,e){$(".select__text .select__color").css("background","#"+e),$(".panel__text").css("color","#"+e)}}),$(".panel__bg").load(function(){tmpResize=Math.ceil(500/$(".panel__bg").height()*100),$(".panel__bg__rotate").val(0),$(".panel__bg__resize").val(tmpResize),$(".panel__bg").css("left",315-$(".panel__bg").width()/2).css("top",250-$(".panel__bg").height()/2),i(0,tmpResize/100)}),$(".input__btn.newimg").click(function(){$("#fileselect").click()}),$(".js-btn-size").click(function(){$(".js-size-block").addClass("is-active")}),$(".js-close-size").click(function(){$(".js-size-block").removeClass("is-active")}),$("body").on("click",".js-btn-size",function(t){t.stopPropagation()}),window.File&&window.FileList&&window.FileReader&&p()}),$(".scroll-pane").jScrollPane({hideFocus:!0});